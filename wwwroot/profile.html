{{define "profile"}}
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>ForCamp</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/node-waves/0.7.5/waves.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/notie/4.3.1/notie.min.css">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.15/css/dataTables.material.min.css">
    <link rel="stylesheet" href="css/libs/font-awesome.min.css">
    <link rel="stylesheet" href="css/libs/material.min.css">
    <link rel="stylesheet" href="css/profile.css">
    <noscript><div><img src="https://mc.yandex.ru/watch/45602721" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
</head>
<body>
<div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
    <header class="mdl-layout__header">
        <div class="mdl-layout__header-row">
            <span class="mdl-layout-title">{{.RequestData.Surname | toTitleCase}} {{.RequestData.Name | toTitleCase}}</span>
        </div>
    </header>
    <div class="mdl-layout__drawer">
        <span class="mdl-layout-title">профиль</span>
        <nav class="mdl-navigation">
            <a class="mdl-navigation__link wave-effect" href="https://forcamp.ga">главная</a>
            <a class="mdl-navigation__link wave-effect" href="https://forcamp.ga/profile">профиль</a>
            {{if .IsAdmin}}<a class="mdl-navigation__link wave-effect" href="https://forcamp.ga/orgset">управление</a>{{end}}
            {{if .IsEmployee}}<a class="mdl-navigation__link wave-effect" href="https://forcamp.ga/marks">баллы</a>{{end}}
            <a class="mdl-navigation__link wave-effect" href="https://forcamp.ga/general">статистика</a>
            <a class="mdl-navigation__link wave-effect" href="https://forcamp.ga/team">{{.OrgSettings.Team}}</a>
            <a class="mdl-navigation__link wave-effect" href="https://forcamp.ga/achievements">достижения</a>
            <a class="mdl-navigation__link wave-effect" href="https://forcamp.ga/exit">выйти</a>
        </nav>
    </div>
    <main class="mdl-layout__content">
        <div class="page-content mdl-grid">
            <div class="mdl-grid mdl-cell mdl-cell--top mdl-cell--3-col-desktop mdl-cell--8-col-tablet mdl-cell--4-col-phone">
                <div class="mdl-cell mdl-cell--12-col">
                    <div class="mdl-card mdl-shadow--6dp">
                        <div class="mdl-card__title mdl-card--border mdl-card__title--photo">
                            <img src="images/{{.RequestData.Avatar}}" width="180px" height="180px"
                                 class="mdl-card__title-photo--round"/>
                        </div>
                        <div class="mdl-card__body">
                            {{if not .IsOwner}}
                            <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--primary"
                                    disabled>отправить сообщение
                            </button>
                            {{else}}
                            <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--primary">
                                настройки
                            </button>
                            {{end}}
                        </div>
                    </div>
                </div>
                <div class="mdl-cell mdl-cell--12-col">
                    <div class="mdl-card mdl-shadow--6dp">
                        <div class="mdl-card__title mdl-card--border">
                            <div class="mdl-card__title-text">
                                Данные
                            </div>
                        </div>
                        <div class="mdl-card__body">
                            <div class="mdl-card__body-row mdl-card__body-row--16px mdl-card__body-row--table">
                                <div class="mdl-card__body-row-text">
                                    <span class="mdl-card__body-row-text--bold">Фамилия:</span>
                                </div>
                                <div class="mdl-card__body-row-text">
                                    <span>{{.UserData.Surname | toTitleCase}}</span>
                                </div>
                            </div>
                            <div class="mdl-card__body-row mdl-card__body-row--16px mdl-card__body-row--table">
                                <div class="mdl-card__body-row-text">
                                    <span class="mdl-card__body-row-text--bold">Имя:</span>
                                </div>
                                <div class="mdl-card__body-row-text">
                                    <span>{{.UserData.Name | toTitleCase}}</span>
                                </div>
                            </div>
                            <div class="mdl-card__body-row mdl-card__body-row--16px mdl-card__body-row--table">
                                <div class="mdl-card__body-row-text">
                                    <span class="mdl-card__body-row-text--bold">Отчество:</span>
                                </div>
                                <div class="mdl-card__body-row-text">
                                    <span>{{.UserData.Middlename | toTitleCase}}</span>
                                </div>
                            </div>
                            <div class="mdl-card__body-row mdl-card__body-row--16px mdl-card__body-row--table">
                                <div class="mdl-card__body-row-text">
                                    <span class="mdl-card__body-row-text--bold">{{.OrgSettings.Team | toTitleCase}}:</span>
                                    {{.UserData.Team.Name}}
                                </div>
                                <div class="mdl-card__body-row-text">
                                    <span>{{.UserData.Team.Name}}</span>
                                </div>
                            </div>
                            <div class="mdl-card__body-row mdl-card__body-row--16px mdl-card__body-row--table">
                                <div class="mdl-card__body-row-text">
                                    <span class="mdl-card__body-row-text--bold">Должность:</span>
                                </div>
                                <div class="mdl-card__body-row-text">
                                    <span>{{.RequestData.Post | toTitleCase}}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                {{if not .IsRequestEmployee}}
                <div class="mdl-cell mdl-cell--12-col">
                    <div class="mdl-card mdl-shadow--6dp width100">
                        <div class="mdl-card__title mdl-card--border">
                            <div class="mdl-card__title-text">Баллы</div>
                        </div>
                        <div class="mdl-card__body">
                            {{range $mark := .RequestData.AdditionalData}}
                            <div class="mdl-card__body-row mdl-card__body-row--table mdl-card__body-row--16px">
                                <div class="mdl-card__body-row-text">
                                    <span>{{$mark.Name | toTitleCase}}</span>
                                </div>
                                <div class="mdl-card__body-row-text">
                                    {{if $mark.Value | isNegative}}
                                    <span class="mdl-card__body-row-text--negative">{{$mark.Value}}</span>
                                    {{else}}
                                    <span class="mdl-card__body-row-text--positive">{{$mark.Value}}</span>
                                    {{end}}
                                </div>
                            </div>
                            {{end}}
                        </div>
                    </div>
                </div>
                {{end}}
            </div>
            <div class="mdl-grid mdl-cell mdl-cell--9-col-desktop mdl-cell--8-col-tablet mdl-cell--4-col-phone">
                <div class="mdl-cell mdl-cell--12-col">
                    <div class="mdl-card mdl-shadow--6dp width100">
                        <div class="mdl-card__title mdl-card--border">
                            <div class="mdl-card__title-text">
                                Активность
                            </div>
                        </div>
                        <div class="mdl-card__body">
                            {{range .RequestData.Actions}}
                                {{if not $.IsRequestEmployee}}
                                <div class="mdl-card__body-row mdl-card__body-row--table mdl-card__body-row--16px">
                                    <div class="mdl-card__body-row-text">
                                        {{if isNegative .Change}}
                                        <span class="mdl-card__body-row-text--negative">{{.Change}}</span>
                                        {{else}}
                                        <span class="mdl-card__body-row-text--positive mdl-card__body-row-text--positive--plus">{{.Change}}</span>
                                        {{end}}
                                        <span>{{.Text | toTitleCase}}</span>
                                    </div>
                                    <div class="mdl-card__body-row-text">
                                        <span>{{.Time | timestampToDate}}</span>
                                    </div>
                                </div>
                                {{else}}
                                <div class="mdl-card__body-row mdl-card__body-row--table mdl-card__body-row--16px">
                                    <div class="mdl-card__body-row-text">
                                        {{if eq $.RequestData.Sex 0}}
                                        <span>Изменил балл</span>
                                        {{else}}
                                        <span>Изменила балл </span>
                                        {{end}}
                                        <a href="https://forcamp.ga/profile?login={{.Participant.Login}}">{{.Participant.Surname | toTitleCase}}
                                            {{.Participant.Name | toTitleCase}}
                                            {{.Participant.Middlename | toTitleCase}}</a> на
                                        {{if isNegative .Change}}
                                        <span class="mdl-card__body-row-text--negative">{{.Change}}</span>
                                        {{else}}
                                        <span class="mdl-card__body-row-text--positive">{{.Change}}</span>
                                        {{end}}
                                        по причине "{{.Text | toTitleCase}}"
                                    </div>
                                    <div class="mdl-card__body-row-text">
                                        {{.Time | timestampToDate}}
                                    </div>
                                </div>
                                {{end}}
                            {{end}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
</div>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/notie/4.3.1/notie.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/node-waves/0.7.5/waves.min.js"></script>
<script type="text/javascript" src="scripts/libs/datatables.min.js"></script>
<script type="text/javascript" src="scripts/libs/datatables.material.min.js"></script>
<script type="text/javascript" src="scripts/libs/material.min.js"></script>
<script type="text/javascript" src="scripts/libs/wave_effect.js"></script>
<script type="text/javascript" src="scripts/metrica.js"></script>
<script type="text/javascript" src="scripts/links.js"></script>
<script type="text/javascript" src="scripts/main.js"></script>
<script type="text/javascript" src="scripts/profile.js"></script>
</body>
</html>
{{end}}